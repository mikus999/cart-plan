(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{185:function(t,e,a){(e=a(10)(!1)).push([t.i,".tab-links a[data-v-bd2aa750]{text-decoration:none}.border-blue[data-v-bd2aa750]{border:3px solid #0288d1}",""]),t.exports=e},83:function(t,e,a){"use strict";a.r(e);var s=a(1),n=a.n(s),r=a(6),i=a.n(r),o=a(11),u=a(24);function c(t,e,a,s,n,r,i){try{var o=t[r](i),u=o.value}catch(t){return void a(t)}o.done?e(u):Promise.resolve(u).then(s,n)}function l(t){return function(){var e=this,a=arguments;return new Promise((function(s,n){var r=t.apply(e,a);function i(t){c(r,s,n,i,o,"next",t)}function o(t){c(r,s,n,i,o,"throw",t)}i(void 0)}))}}var d={middleware:"auth",layout:"vuetify",mixins:[o.a],validations:{password1:{required:u.required,minLength:Object(u.minLength)(6)},password2:{required:u.required,sameAsPassword:Object(u.sameAs)("password1")}},data:function(){return{tab:null,validation:{name:{success:!1,message:null},email:{success:!1,message:null}},settings:{shifts:{switches:[{column:"setting_shift_request_autoapproval",text:this.$t("teams.setting_shift_request_autoapproval")},{column:"setting_shift_assignment_autoaccept",text:this.$t("teams.setting_shift_assignment_autoaccept")},{column:"setting_shift_trade_autoapproval",text:this.$t("teams.setting_shift_trade_autoapproval")}],numbers:[{column:"default_participants_min",text:this.$t("teams.setting_default_participants_min"),step:1},{column:"default_participants_max",text:this.$t("teams.setting_default_participants_max"),step:1},{column:"default_shift_minutes",text:this.$t("teams.setting_default_shift_minutes"),step:30}]}},userData:[],password1:null,password2:null,showPwd:!1,showPwd2:!1}},computed:{passwordErrors:function(){var t=[];return this.$v.password1.$dirty?(!this.$v.password1.minLength&&t.push(this.$t("auth.password_length",{length:"6"})),!this.$v.password1.required&&t.push(this.$t("auth.password_required")),t):t},passwordErrors2:function(){var t=[];return this.$v.password2.$dirty?(!this.$v.password2.sameAsPassword&&t.push(this.$t("auth.password_mismatch")),t):t}},watch:{},created:function(){this.getUserData()},methods:{getUserData:function(){var t=this;return l(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.userData=t.user;case 1:case"end":return e.stop()}}),e)})))()},updateUser:_.debounce(function(){var t=l(n.a.mark((function t(e){var a=this;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.validation[e.target.name].success=!0,setTimeout((function(){return a.validation[e.target.name].success=!1}),3e3),t.next=4,i()({method:"patch",url:"/api/account/profile",data:this.userData});case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),1e3),changeSetting:function(t,e){var a=this;return l(n.a.mark((function s(){var r;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return r="",r="bool"===e?null===a.teamData[t]?"0":"1":a.teamData[t],s.next=4,i()({method:"post",url:"/api/teams/settings/update",data:{team_id:a.team.id,setting:t,value:r}});case 4:case"end":return s.stop()}}),s)})))()},updatePassword:function(){var t=this;return l(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$v.$touch(),t.$v.$invalid){e.next=4;break}return e.next=4,i()({method:"patch",url:"/api/account/password",data:{user:t.user,password:t.password1}}).then((function(e){t.showSnackbar(t.$t("uth.success_reset_password"),"success")}));case 4:case"end":return e.stop()}}),e)})))()}}},p=a(2),v=a.n(p),m=a(185),h=a.n(m),f={insert:"head",singleton:!1},w=(v()(h.a,f),h.a.locals,a(8)),b=a(9),g=a.n(b),x=a(103),$=a(221),k=a(658),y=a(660),D=a(226),P=a(632),V=a(113),C=a(659),A=a(643),U=a(230),T=a(633),q=a(644),S=a(641),E=a(319),O=a(51),L=Object(w.a)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-row",[a("PageTitle",{attrs:{title:t.$t("account.account_settings")}})],1),t._v(" "),a("v-card",{attrs:{width:"100%"}},[a("v-tabs",{staticClass:"tab-links mt-10",attrs:{"icons-and-text":"",grow:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab",{attrs:{href:"#tab-general"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.smAndUp,expression:"$vuetify.breakpoint.smAndUp"}]},[t._v(t._s(t.$t("general.general")))]),t._v(" "),a("v-icon",[t._v("mdi-information")])],1),t._v(" "),a("v-tab",{attrs:{href:"#tab-settings"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.smAndUp,expression:"$vuetify.breakpoint.smAndUp"}]},[t._v(t._s(t.$t("general.settings")))]),t._v(" "),a("v-icon",[t._v("mdi-cog")])],1),t._v(" "),a("v-tab",{attrs:{href:"#tab-security"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.smAndUp,expression:"$vuetify.breakpoint.smAndUp"}]},[t._v(t._s(t.$t("general.security")))]),t._v(" "),a("v-icon",[t._v("mdi-security")])],1),t._v(" "),a("v-tabs-items",{staticClass:"pt-10",model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{attrs:{value:"tab-general"}},[a("v-col",{attrs:{md:"8"}},[a("v-text-field",{attrs:{name:"name",label:t.$t("general.name"),success:t.validation.name.success},nativeOn:{input:function(e){return t.updateUser(e)}},scopedSlots:t._u([t.validation.name.success?{key:"append",fn:function(){return[a("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")])]},proxy:!0}:null],null,!0),model:{value:t.userData.name,callback:function(e){t.$set(t.userData,"name",e)},expression:"userData.name"}}),t._v(" "),a("v-text-field",{attrs:{name:"email",label:t.$t("general.email"),success:t.validation.email.success},nativeOn:{input:function(e){return t.updateUser(e)}},scopedSlots:t._u([t.validation.email.success?{key:"append",fn:function(){return[a("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")])]},proxy:!0}:null],null,!0),model:{value:t.userData.email,callback:function(e){t.$set(t.userData,"email",e)},expression:"userData.email"}})],1)],1),t._v(" "),a("v-tab-item",{attrs:{value:"tab-settings"}},[a("v-col",{attrs:{cols:"12"}},[a("v-row",[a("div",{staticClass:"mx-auto"},[a("v-subheader",{staticClass:"text-subtitle-1 text-uppercase"},[t._v(t._s(t.$t("account.appearance")))])],1)]),t._v(" "),a("v-row",[a("div",{class:t.$vuetify.breakpoint.xs?"mx-auto":"ml-sm-auto"},[a("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.hover;return[a("v-skeleton-loader",{class:"ma-8 "+(t.$vuetify.theme.dark?"":"border-blue"),attrs:{type:"article, actions",width:t.$vuetify.breakpoint.smAndDown?250:300,elevation:s?15:5,boilerplate:"",tile:"",light:""},on:{click:function(e){return t.changeTheme("light")}}})]}}])}),t._v(" "),a("p",{staticClass:"text-center text-subtitle-1 font-weight-light"},[t._v(t._s(t.$t("account.light_mode")))])],1),t._v(" "),a("div",{class:t.$vuetify.breakpoint.xs?"mx-auto":"mr-sm-auto"},[a("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.hover;return[a("v-skeleton-loader",{class:"ma-8 "+(t.$vuetify.theme.dark?"border-blue":""),attrs:{type:"article, actions",width:t.$vuetify.breakpoint.smAndDown?250:300,elevation:s?15:5,boilerplate:"",tile:"",dark:""},on:{click:function(e){return t.changeTheme("dark")}}})]}}])}),t._v(" "),a("p",{staticClass:"text-center text-subtitle-1 font-weight-light"},[t._v(t._s(t.$t("account.dark_mode")))])],1)]),t._v(" "),a("v-divider",{staticClass:"my-12"}),t._v(" "),a("v-row",[a("div",{staticClass:"mx-auto"},[a("v-subheader",{staticClass:"text-subtitle-1 text-uppercase"},[t._v(t._s(t.$t("account.preferences")))])],1)])],1)],1),t._v(" "),a("v-tab-item",{attrs:{value:"tab-security"}},[a("v-col",{attrs:{md:"8","offset-md":"2"}},[a("v-text-field",{attrs:{name:"password1",label:t.$t("auth.new_password"),"error-messages":t.passwordErrors,"append-icon":t.showPwd?"mdi-eye":"mdi-eye-off",type:t.showPwd?"text":"password"},on:{blur:function(e){return t.$v.password1.$touch()},"click:append":function(e){t.showPwd=!t.showPwd}},model:{value:t.password1,callback:function(e){t.password1=e},expression:"password1"}}),t._v(" "),a("v-text-field",{attrs:{name:"password2",label:t.$t("auth.confirm_password"),"error-messages":t.passwordErrors2,"append-icon":t.showPwd2?"mdi-eye":"mdi-eye-off",type:t.showPwd2?"text":"password"},on:{blur:function(e){return t.$v.password2.$touch()},input:function(e){return t.$v.password2.$touch()},"click:append":function(e){t.showPwd2=!t.showPwd2}},model:{value:t.password2,callback:function(e){t.password2=e},expression:"password2"}}),t._v(" "),a("v-btn",{attrs:{type:"submit",color:"primary"},on:{click:function(e){return e.preventDefault(),t.updatePassword(e)}}},[t._v("\n              "+t._s(t.$t("auth.reset_password"))+"\n            ")])],1)],1)],1)],1)],1)],1)}),[],!1,null,"bd2aa750",null);e.default=L.exports;g()(L,{VBtn:x.a,VCard:$.a,VCol:k.a,VContainer:y.a,VDivider:D.a,VHover:P.a,VIcon:V.a,VRow:C.a,VSkeletonLoader:A.a,VSubheader:U.a,VTab:T.a,VTabItem:q.a,VTabs:S.a,VTabsItems:E.a,VTextField:O.a})}}]);