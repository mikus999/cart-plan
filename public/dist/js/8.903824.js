(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{190:function(t,e,n){(e=n(10)(!1)).push([t.i,".v-input--checkbox.v-input--indeterminate.v-input--is-disabled{opacity:.6}",""]),t.exports=e},81:function(t,e,n){"use strict";n.r(e);var a=n(6),r=n.n(a),i=n(11),s=n(1),o=n.n(s);function c(t,e,n,a,r,i,s){try{var o=t[i](s),c=o.value}catch(t){return void n(t)}o.done?e(c):Promise.resolve(c).then(a,r)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var i=t.apply(e,n);function s(t){c(i,a,r,s,o,"next",t)}function o(t){c(i,a,r,s,o,"throw",t)}s(void 0)}))}}var u={name:"TranslatorLanguages",mixins:[i.a],props:{data:{type:[Object,Array]},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:"170px"}},data:function(){return{languages:[],selected_languages:[]}},created:function(){this.getLanguages()},methods:{getLanguages:function(){var t=this;return l(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r()({method:"get",url:"/api/translation/languages/site"}).then((function(e){t.languages=e.data.filter((function(t){return"en"!=t.code}))}));case 2:t.data.languages.forEach((function(e,n){t.selected_languages.push(e.id)}));case 3:case"end":return e.stop()}}),e)})))()},saveLanguages:function(){var t=this;return l(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r()({method:"post",url:"/api/translation/permissions",data:{user_id:t.data.id,languages:t.selected_languages}}).then((function(e){t.showSnackbar("Translator permissions updated successfully","success"),t.$emit("close")})).catch((function(e){t.showSnackbar("Error: "+e,"error")}));case 2:case"end":return e.stop()}}),e)})))()}}},d=n(8),h=n(9),v=n.n(h),g=n(103),p=n(221),m=n(5),f=n(2),x=n.n(f),b=n(190),_=n.n(b),y={insert:"head",singleton:!1},w=(x()(_.a,y),_.a.locals,n(146),n(15)),k=n(21),C=n(67).a.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data(){return{inputIndeterminate:this.indeterminate}},computed:{classes(){return{...k.a.options.computed.classes.call(this),"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate}},computedIcon(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate(t){this.$nextTick(()=>this.inputIndeterminate=t)},inputIndeterminate(t){this.$emit("update:indeterminate",t)},isActive(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(w.a,this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",{...this.attrs$,"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()}),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot(){return[this.genCheckbox(),this.genLabel()]}}}),I=n(226),V=n(113),T=n(657),S=Object(d.a)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{hover:"",width:t.width}},[n("v-card-title",{staticClass:"justify-center text-h6"},[n("v-icon",{staticClass:"mr-3"},[t._v("mdi-translate")]),t._v("\n    Translator Languages\n  ")],1),t._v(" "),n("v-card-subtitle",{staticClass:"text-center font-weight-bold pt-4"},[t._v("\n    "+t._s(this.data.name)+"\n  ")]),t._v(" "),n("v-card-text",{staticClass:"my-5 overflow-auto",staticStyle:{height:"300px"}},[n("div",[t._v("Available Languages")]),t._v(" "),n("v-divider",{staticClass:"mt-2 mb-n2"}),t._v(" "),t._l(t.languages,(function(e){return n("v-checkbox",{key:e.id,attrs:{label:e.name,value:e.id,dense:"","hide-details":""},model:{value:t.selected_languages,callback:function(e){t.selected_languages=e},expression:"selected_languages"}})}))],2),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"grey",text:""},on:{click:function(e){return t.$emit("close")}}},[t._v("\n      "+t._s(t.$t("general.cancel"))+"\n    ")]),t._v(" "),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.saveLanguages()}}},[t._v("\n      "+t._s(t.$t("general.save"))+"\n    ")])],1)],1)}),[],!1,null,null,null),L=S.exports;function O(t,e,n,a,r,i,s){try{var o=t[i](s),c=o.value}catch(t){return void n(t)}o.done?e(c):Promise.resolve(c).then(a,r)}v()(S,{VBtn:g.a,VCard:p.a,VCardActions:m.a,VCardSubtitle:m.b,VCardText:m.c,VCardTitle:m.d,VCheckbox:C,VDivider:I.a,VIcon:V.a,VSpacer:T.a});var $={name:"TranslatorManagement",mixins:[i.a],components:{TranslatorLanguages:L},data:function(){return{translators:[],translatorHeaders:[{text:"Name",value:"name",align:"left"},{text:"Email",value:"email",align:"left"},{text:"Languages",value:"lang",align:"left"},{text:"Actions",value:"actions"}],currUser:null,langOverlay:!1}},created:function(){this.getUserData()},methods:{getUserData:function(){var t,e=this;return(t=o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.get("/api/users/translator").then((function(t){e.translators=t.data.users}));case 2:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(a,r){var i=t.apply(e,n);function s(t){O(i,a,r,s,o,"next",t)}function o(t){O(i,a,r,s,o,"throw",t)}s(void 0)}))})()},showLanguageOverly:function(t){this.currUser=t,this.langOverlay=!0},closeLanguageOverlay:function(){this.getUserData(),this.currUser=null,this.langOverlay=!1}}},E=n(639),A=n(232),D=n(42),U=n(23),j=Object(d.a)($,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{width:"100%"}},[n("v-data-table",{attrs:{headers:t.translatorHeaders,items:t.translators,"no-data-text":"No Data",width:"100%"},scopedSlots:t._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:""}},[n("v-toolbar-title",[n("v-icon",{attrs:{left:""}},[t._v("mdi-account-multiple")]),t._v("\n          Translators\n        ")],1)],1)]},proxy:!0},{key:"item.lang",fn:function(e){var a=e.item;return t._l(a.languages,(function(e){return n("div",[t._v(t._s(e.name))])}))}},{key:"item.actions",fn:function(e){var a=e.item;return[n("v-btn",{attrs:{icon:""},on:{click:function(e){return t.showLanguageOverly(a)}}},[n("v-icon",[t._v("mdi-account-edit")])],1)]}}])}),t._v(" "),n("v-overlay",{attrs:{value:t.langOverlay,dark:"dark"==t.theme}},[n("TranslatorLanguages",{attrs:{data:t.currUser,width:"300px",height:"100%"},on:{close:function(e){return t.closeLanguageOverlay()}}})],1)],1)}),[],!1,null,null,null),P=j.exports;v()(j,{VBtn:g.a,VCard:p.a,VDataTable:E.a,VIcon:V.a,VOverlay:A.a,VToolbar:D.a,VToolbarTitle:U.a});var N={middleware:["auth","teams"],layout:"vuetify",mixins:[i.a],components:{TranslatorManagement:P}},B=n(660),M=n(659),H=Object(d.a)(N,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-container",{attrs:{fluid:""}},[e("v-row",[e("PageTitle",{attrs:{title:"Site Administration"}})],1),this._v(" "),e("v-row",[e("TranslatorManagement")],1)],1)}),[],!1,null,null,null);e.default=H.exports;v()(H,{VContainer:B.a,VRow:M.a})}}]);