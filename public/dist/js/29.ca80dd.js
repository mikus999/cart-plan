(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{173:function(t,e,r){"use strict";r.r(e);var a=r(1),s=r.n(a),o=r(6),n=r.n(o),i=r(130),l=r(131),c=r(24);function u(t,e,r,a,s,o,n){try{var i=t[o](n),l=i.value}catch(t){return void r(t)}i.done?e(l):Promise.resolve(l).then(a,s)}var d={layout:"vuetify",middleware:"guest",mixins:[r(11).a],components:{LoginWithGoogle:i.a,LoginWithFacebook:l.a},validations:{email:{required:c.required,email:c.email},password:{required:c.required}},data:function(){return{email:"",password:"",remember:null,showPwd:!1}},computed:{passwordErrors:function(){var t=[];return this.$v.password.$dirty?(!this.$v.password.required&&t.push(this.$t("auth.password_required")),t):t},emailErrors:function(){var t=[];return this.$v.email.$dirty?(!this.$v.email.email&&t.push(this.$t("auth.email_invalid")),!this.$v.email.required&&t.push(this.$t("auth.email_required")),t):t}},methods:{login:function(){var t,e=this;return(t=s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$v.$touch(),e.$v.$invalid){t.next=4;break}return t.next=4,n()({method:"post",url:"/api/login",data:{email:e.email,password:e.password}}).then((function(t){t.data.token&&(e.$store.dispatch("auth/saveToken",{token:t.data.token,remember:e.remember}),e.$store.dispatch("general/init").then((function(){e.$router.push({name:"home"})})))})).catch((function(t){e.showSnackbar(e.$t("auth.credentials_incorrect"),"error")}));case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(a,s){var o=t.apply(e,r);function n(t){u(o,a,s,n,i,"next",t)}function i(t){u(o,a,s,n,i,"throw",t)}n(void 0)}))})()}}},v=r(8),m=r(9),h=r.n(m),p=r(103),w=r(221),f=r(5),$=r(658),_=r(660),x=r(619),g=r(659),b=r(51),k=Object(v.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[r("v-card",{staticClass:"mx-auto",attrs:{"max-width":"500",outlined:""}},[r("v-card-title",[t._v(t._s(t.$t("auth.login")))]),t._v(" "),r("v-card-text",[r("v-form",[r("v-text-field",{attrs:{name:"email",label:t.$t("general.email"),"error-messages":t.emailErrors},on:{blur:function(e){return t.$v.email.$touch()}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),r("v-text-field",{attrs:{password:"password",label:t.$t("auth.password"),"error-messages":t.passwordErrors,"append-icon":t.showPwd?"mdi-eye":"mdi-eye-off",type:t.showPwd?"text":"password"},on:{blur:function(e){return t.$v.password.$touch()},"click:append":function(e){t.showPwd=!t.showPwd}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),r("v-row",[r("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[r("v-btn",{attrs:{type:"submit",color:"primary",block:""},on:{click:function(e){return e.preventDefault(),t.login(e)}}},[t._v("\n              "+t._s(t.$t("auth.login"))+"\n            ")])],1)],1),t._v(" "),r("v-row",[r("v-col",{staticClass:"text-center",attrs:{cols:"12",sm:"6"}},[r("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:{name:"register"}}},[t._v("\n              "+t._s(t.$t("auth.register"))+"\n            ")])],1),t._v(" "),r("v-col",{staticClass:"text-center",attrs:{cols:"12",sm:"6"}},[r("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:{name:"password.request"}}},[t._v("\n              "+t._s(t.$t("auth.forgot_password"))+"\n            ")])],1)],1),t._v(" "),r("v-row",[r("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[r("p",{staticClass:"my-8"},[r("span",{staticClass:"h6"},[t._v(t._s(t.$t("auth.login_with")))])]),t._v(" "),r("login-with-google"),t._v(" "),r("login-with-facebook")],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=k.exports;h()(k,{VBtn:p.a,VCard:w.a,VCardText:f.c,VCardTitle:f.d,VCol:$.a,VContainer:_.a,VForm:x.a,VRow:g.a,VTextField:b.a})}}]);