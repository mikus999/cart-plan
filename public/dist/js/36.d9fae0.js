(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{181:function(t,e,a){"use strict";a.r(e);var n=a(1),s=a.n(n),r=a(6),o=a.n(r),i=a(11),m=a(129),c=a.n(m);function l(t,e,a,n,s,r,o){try{var i=t[r](o),m=i.value}catch(t){return void a(t)}i.done?e(m):Promise.resolve(m).then(n,s)}function _(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var r=t.apply(e,a);function o(t){l(r,n,s,o,i,"next",t)}function i(t){l(r,n,s,o,i,"throw",t)}o(void 0)}))}}var v={middleware:"auth",layout:"vuetify",mixins:[i.a],components:{CodeInput:c.a},data:function(){return{teamid:null,teamNotFound:!1,teamNotFoundMsg:"",team_name:"",teamNameError:!1,teamNameErrorMsg:"",teamFound:!1,teamTemp:[],teamcontact:[],stepperCurr:1,stepperMax:4,isNewTeam:!1}},created:function(){},methods:{nextStep:function(t,e){var a=this;return _(s.a.mark((function n(){var r;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=!0,console.log(e),void 0===e){n.next=6;break}return n.next=5,a.$root.$confirm(e,null,"primary");case 5:r=n.sent;case 6:r&&t!==a.stepperMax&&(a.stepperCurr=t);case 7:case"end":return n.stop()}}),n)})))()},findTeam:function(){var t=this;return _(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.teamNotFound=!1,t.teamFound=!1,""===t.teamid){e.next=5;break}return e.next=5,o.a.get("/api/teams/findteam/"+t.teamid).then((function(e){"NOT_FOUND"===e.data.message?(t.teamNotFound=!0,t.teamNotFoundMsg=t.$t("teams.team_not_found"),t.teamFound=!1):(t.teamNotFound=!1,t.teamNotFoundMsg="",t.teamFound=!0,t.teamTemp=e.data.team,t.teamcontact=e.data.user,t.stepperCurr=2)}));case 5:case"end":return e.stop()}}),e)})))()},joinTeam:function(){var t=this,e=new FormData;e.append("team_id",this.teamid),o.a.post("/api/teams/jointeam",e).then((function(e){t.getTeams(),t.setTeam(e.data.team,"self"),t.stepperCurr=4,t.isNewTeam=!1}))},createTeam:function(){var t=this;this.hasError=!1;var e=new FormData;e.append("display_name",this.team_name),o.a.post("/api/teams/",e).then((function(e){"ERROR"===e.data.message?(t.teamNameError=!0,t.teamNotFoundMsg=t.$t("teams.error_creating_team")):(t.getTeams(),t.setTeam(e.data.team,"self"),t.stepperCurr=4,t.isNewTeam=!0)}))},clearForm:function(){this.teamNotFound=!1,this.teamNotFoundMsg="",this.teamNameError=!1,this.teamNameErrorMsg="",this.teamFound=!1,this.teamTemp=[],this.teamcontact=[],this.teamid="",this.stepperCurr=1,this.isNewTeam=!1},codeChange:function(t){this.teamid=t}}},u=a(8),d=a(9),p=a.n(d),f=a(103),h=a(221),x=a(5),C=a(658),w=a(660),b=a(226),g=a(113),$=a(659),y=a(233),N=a(222),T=a(44),F=a(51),k=Object(u.a)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"600",outlined:""}},[a("v-card-title",[a("v-icon",{attrs:{left:""}},[t._v("mdi-account-multiple-plus")]),t._v("\n      "+t._s(t.$t("teams.join_existing_team"))+"\n    ")],1),t._v(" "),a("v-card-text",[a("v-stepper",{model:{value:t.stepperCurr,callback:function(e){t.stepperCurr=e},expression:"stepperCurr"}},[a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("v-row",{staticClass:"mt-5"},[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("h3",[t._v(t._s(t.$t("teams.what_is_a_team")))]),t._v(" "),a("p",{staticClass:"text-muted my-8"},[t._v("\n                  "+t._s(t.$t("teams.team_explanation"))+"\n                ")]),t._v(" "),a("p",{staticClass:"text-muted my-8 font-weight-bold"},[t._v("\n                  "+t._s(t.$t("teams.enter_team_code"))+"\n                ")]),t._v(" "),a("CodeInput",{staticClass:"mx-auto",attrs:{fields:6,fieldWidth:t.$vuetify.breakpoint.xsOnly?35:58,fieldHeight:t.$vuetify.breakpoint.xsOnly?33:54},on:{change:t.codeChange}}),t._v(" "),t.teamNotFound?a("div",{staticClass:"mt-4"},[a("span",{staticClass:"red--text font-weight-bold"},[t._v(t._s(t.teamNotFoundMsg))])]):t._e(),t._v(" "),a("v-btn",{staticClass:"my-8",attrs:{color:"primary"},on:{click:function(e){return e.preventDefault(),t.findTeam(e)}}},[t._v("\n                    "+t._s(t.$t("teams.find_team"))+"\n                  ")]),t._v(" "),a("p")],1)],1),t._v(" "),a("v-divider",{staticClass:"my-4"}),t._v(" "),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("p",{staticClass:"text-muted my-8"},[a("a",{on:{click:function(e){e.preventDefault(),t.nextStep(3,t.$t("teams.confirm_create_new_team"))}}},[t._v("\n                    "+t._s(t.$t("teams.create_new_team"))+"\n                  ")])])])],1)],1),t._v(" "),a("v-stepper-content",{attrs:{step:"2"}},[a("v-row",[a("v-col",{staticClass:"mt-5 text-center",attrs:{cols:"12"}},[a("h3",[t._v(t._s(t.$t("teams.confirm_team_details")))]),t._v(" "),a("p",{staticClass:"text-muted my-8"},[t._v("\n                  "+t._s(t.$t("teams.confirm_team_message"))+"\n                ")]),t._v(" "),a("v-row",[a("label",{staticClass:"col-md-5 col-form-label text-md-right"},[t._v(t._s(t.$t("teams.team_id")))]),t._v(" "),a("label",{staticClass:"col-md-7 col-form-label-plain text-md-left"},[t._v("\n                    "+t._s(t.teamTemp.code)+"\n                  ")])]),t._v(" "),a("v-row",[a("label",{staticClass:"col-md-5 col-form-label text-md-right"},[t._v(t._s(t.$t("teams.team_name")))]),t._v(" "),a("label",{staticClass:"col-md-7 col-form-label-plain text-md-left"},[t._v("\n                    "+t._s(t.teamTemp.display_name)+"\n                  ")])]),t._v(" "),a("v-row",[a("label",{staticClass:"col-md-5 col-form-label text-md-right"},[t._v(t._s(t.$t("teams.contact_name")))]),t._v(" "),a("label",{staticClass:"col-md-7 col-form-label-plain text-md-left"},[t._v("\n                    "+t._s(t.teamcontact.name)+"\n                  ")])]),t._v(" "),a("br"),a("br"),t._v(" "),a("v-btn",{attrs:{text:"",id:"cancel"},on:{click:function(e){return e.preventDefault(),t.clearForm(e)}}},[t._v("\n                  "+t._s(t.$t("general.go_back"))+"\n                ")]),t._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return e.preventDefault(),t.joinTeam(e)}}},[t._v("\n                  "+t._s(t.$t("teams.join_team"))+"\n                ")])],1)],1)],1),t._v(" "),a("v-stepper-content",{attrs:{step:"3"}},[a("v-row",[a("v-col",{staticClass:"mt-5 text-center",attrs:{cols:"12"}},[a("h3",{staticClass:"ma-3"},[t._v(t._s(t.$t("teams.new_team_name")))]),t._v(" "),a("p",{staticClass:"text-muted my-8"},[t._v("\n                  "+t._s(t.$t("teams.new_team_name_help"))+"\n                ")]),t._v(" "),a("v-text-field",{staticClass:"ma-3",attrs:{label:t.$t("teams.team_name"),outlined:"",error:t.teamNameError,"error-messages":t.teamNameErrorMsg},model:{value:t.team_name,callback:function(e){t.team_name=e},expression:"team_name"}}),t._v(" "),a("v-btn",{attrs:{text:"",id:"cancel"},on:{click:function(e){return e.preventDefault(),t.clearForm(e)}}},[t._v("\n                  "+t._s(t.$t("general.go_back"))+"\n                ")]),t._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return e.preventDefault(),t.createTeam(e)}}},[t._v("\n                  "+t._s(t.$t("general.create"))+"\n                ")])],1)],1)],1),t._v(" "),a("v-stepper-content",{attrs:{step:"4"}},[a("v-row",[a("v-col",{staticClass:"mt-5 text-center",attrs:{cols:"12"}},[a("h1",{staticClass:"ma-3"},[a("v-icon",{attrs:{size:"30",color:"success"}},[t._v("mdi-check-circle-outline")]),t._v("\n                  "+t._s(this.$t("teams.welcome_to_team"))+"\n                ")],1),t._v(" "),a("v-divider",{staticClass:"my-16"}),t._v(" "),a("div",{staticClass:"text-muted my-8"},[t.isNewTeam?a("div",[a("h3",[t._v(t._s(t.$t("notifications.setup_notifications_now")))]),t._v(" "),a("p",{staticClass:"text-muted my-8"},[t._v("\n                      "+t._s(t.$t("notifications.feature_explanation_team"))+"\n                    ")]),t._v(" "),a("v-btn",{attrs:{text:"",id:"cancel",router:"",to:{name:"teams.index"}}},[t._v("\n                      "+t._s(t.$t("general.later"))+"\n                    ")]),t._v(" "),a("v-btn",{attrs:{color:"primary",router:"",to:{name:"notifications.setup"}}},[t._v("\n                      "+t._s(t.$t("notifications.setup_now"))+"\n                    ")])],1):t._e(),t._v(" "),t.isNewTeam?t._e():a("div",[a("h3",[t._v(t._s(t.$t("notifications.subscribe_notifications_now")))]),t._v(" "),a("p",{staticClass:"text-muted my-8"},[t._v("\n                      "+t._s(t.$t("notifications.feature_explanation_user"))+"\n                    ")]),t._v(" "),a("v-btn",{attrs:{text:"",id:"cancel",router:"",to:{name:"home"}}},[t._v("\n                      "+t._s(t.$t("general.later"))+"\n                    ")]),t._v(" "),a("v-btn",{attrs:{color:"primary",router:"",to:{name:"notifications.join"}}},[t._v("\n                      "+t._s(t.$t("notifications.subscribe_now"))+"\n                    ")])],1)])],1)],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=k.exports;p()(k,{VBtn:f.a,VCard:h.a,VCardText:x.c,VCardTitle:x.d,VCol:C.a,VContainer:w.a,VDivider:b.a,VIcon:g.a,VRow:$.a,VStepper:y.a,VStepperContent:N.a,VStepperItems:T.a,VTextField:F.a})}}]);